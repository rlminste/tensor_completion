
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Poblano Toolbox for MATLAB: Optimization Output Parameters</title><meta name="generator" content="MATLAB 9.4"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2019-04-25"><meta name="DC.source" content="parameters_output_doc.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img, h1 img, h2 img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, code { font-size:12px; }
tt { font-size: 1.2em; }
pre { margin:0px 0px 20px; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }
pre.error { color:red; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }

.background {
	background-color:#004889;
	background-image: url(images/banner-background.jpg);
	background-repeat:no-repeat;
}

  </style></head><body><div class="background"><a href="index.html"><img area="13494" src="images/logo.gif" alt="Sandia National Laboratories" border="0" height="78" width="173"></a></div><div class="content"><h1>Poblano Toolbox for MATLAB: Optimization Output Parameters</h1><!--introduction--><p>Each of the optimization methods in Poblano outputs a single structure containing fields for the approximate solution, function and gradient values at the solution, and various information about the optimization run (e.g., number of function evaluations, etc.). The Poblano function <tt>poblano_out</tt> is used by the optimization methods to set the output parameters.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#2">Output Parameters</a></li><li><a href="#4">Optional Trace Output Parameters</a></li><li><a href="#6">Example Output</a></li></ul></div><p><hr></p><h2 id="2">Output Parameters</h2><p>Each of the optimization methods in Poblano outputs a single structure containing fields described below.</p><pre>X                Final iterate</pre><pre>F                Function value at X</pre><pre>G                Gradient at X</pre><pre>Params           Input parameters used for the minimization method (as
                 parsed Matlab inputParser object)</pre><pre>FuncEvals        Number of function evaluations performed</pre><pre>Iters            Number of iterations performed (see individual minimization
                 routines for details on what each iteration consists of</pre><pre>ExitFlag         Termination flag, with one of the following values
                 0 : scaled gradient norm &lt; StopTol input parameter)
                 1 : maximum number of iterations exceeded
                 2 : maximum number of function values exceeded
                 3 : relative change in function value &lt; RelFuncTol input parameter
                 4 : NaNs found in F, G, or ||G||</pre><pre>ExitDescription  Text description of the termination flag</pre><p><hr></p><h2 id="4">Optional Trace Output Parameters</h2><p>Additional output parameters returned by the Poblano optimization methods are presented below. The histories (i.e., traces) of different variables and parameters at each iteration are returned as output parameters if the corresponding input parameters are set to <tt>true</tt> (see the <a href="A2_poblano_params_docs.html">Optimization Input Parameters</a> documentation for more details on the input parameters).</p><pre>TraceX           History of X (iterates)</pre><pre>TraceFunc        History of the function values of the iterates</pre><pre>TraceRelFunc     History of the relative difference between the function
                 values at the current and previous iterates</pre><pre>TraceGrad        History of the gradients of the iterates</pre><pre>TraceGradNorm    History of the norm of the gradients of the iterates</pre><pre>TraceFuncEvals   History of the number of function evaluations performed
                 at each iteration</pre><p><hr></p><h2 id="6">Example Output</h2><p>The following example shows the output produced when the default input parameters are used.</p><pre class="codeinput">out = ncg(@(x) example1(x,3), pi/4)
</pre><pre class="codeoutput"> Iter  FuncEvals       F(X)          ||G(X)||/N        
------ --------- ---------------- ----------------
     0         1       0.70710678       2.12132034
     1        14      -0.99998885       0.01416497
     2        16      -1.00000000       0.00000147

out = 

  struct with fields:

             Params: [1&times;1 inputParser]
           ExitFlag: 0
    ExitDescription: 'Successful termination based on StopTol'
                  X: 70.6858
                  F: -1.0000
                  G: -1.4734e-06
          FuncEvals: 16
              Iters: 2

</pre><p>The following example presents an example where a method terminates before convergence (due to a limit on the number of iterations allowed).</p><pre class="codeinput">out = ncg(@(x) example1(x,3), pi/4,<span class="string">'MaxIters'</span>,1)
</pre><pre class="codeoutput"> Iter  FuncEvals       F(X)          ||G(X)||/N        
------ --------- ---------------- ----------------
     0         1       0.70710678       2.12132034
     1        14      -0.99998885       0.01416497

out = 

  struct with fields:

             Params: [1&times;1 inputParser]
           ExitFlag: 1
    ExitDescription: 'Maximum number of iterations exceeded'
                  X: 70.6843
                  F: -1.0000
                  G: -0.0142
          FuncEvals: 14
              Iters: 1

</pre><p>The following shows the ability to save traces of the different information for each iteration.</p><pre class="codeinput">out = ncg(@(x) example1(x,3), [1 2 3]',<span class="string">'TraceX'</span>,true,<span class="string">'TraceFunc'</span>, true, <span class="keyword">...</span>
    <span class="string">'TraceRelFunc'</span>,true,<span class="string">'TraceGrad'</span>,true,<span class="string">'TraceGradNorm'</span>,true,<span class="string">'TraceFuncEvals'</span>,true)
</pre><pre class="codeoutput"> Iter  FuncEvals       F(X)          ||G(X)||/N        
------ --------- ---------------- ----------------
     0         1       0.27382300       1.65292785
     1         5      -2.65134210       0.79522946
     2        11      -2.93709563       0.35196906
     3        14      -2.99999975       0.00070154
     4        16      -3.00000000       0.00000000

out = 

  struct with fields:

             Params: [1&times;1 inputParser]
           ExitFlag: 0
    ExitDescription: 'Successful termination based on StopTol'
                  X: [3&times;1 double]
                  F: -3
                  G: [3&times;1 double]
          FuncEvals: 16
              Iters: 4
             TraceX: [3&times;5 double]
          TraceFunc: [0.2738 -2.6513 -2.9371 -3.0000 -3]
       TraceRelFunc: [10.6827 0.1078 0.0214 8.2026e-08]
          TraceGrad: [3&times;5 double]
      TraceGradNorm: [4.9588 2.3857 1.0559 0.0021 2.5726e-09]
     TraceFuncEvals: [1 4 6 3 2]

</pre><p>We can examine the final solution and its gradient (which list only their sizes when viewing the output structure):</p><pre class="codeinput">X = out.X
G = out.G
</pre><pre class="codeoutput">
X =

    3.6652
   -0.5236
    5.7596


G =

   1.0e-08 *

    0.0072
   -0.2052
   -0.1550

</pre><p>We can also see the values of <tt>X</tt> (current iterate) and its gradient <tt>G</tt> for each iteration (including iteration 0, which just computes the function and gradient values of the initial point):</p><pre class="codeinput">out.TraceX
out.TraceGrad
</pre><pre class="codeoutput">
ans =

    1.0000    3.7424    3.7441    3.6652    3.6652
    2.0000   -0.6598   -0.6106   -0.5238   -0.5236
    3.0000    5.5239    5.7756    5.7594    5.7596


ans =

   -2.9700    0.6886    0.7031    0.0001    0.0000
    2.8805   -1.1918   -0.7745   -0.0017   -0.0000
   -2.7334   -1.9486    0.1437   -0.0013   -0.0000

</pre><p class="footer"><br>
      Copyright 2019, National Technology &amp; Engineering Solutions of Sandia, LLC (NTESS).<br></p></div><!--
##### SOURCE BEGIN #####
%% Poblano Toolbox for MATLAB: Optimization Output Parameters
%
% Each of the optimization methods in Poblano outputs a single structure
% containing fields for the approximate solution, function and gradient
% values at the solution, and various information about the optimization
% run (e.g., number of function evaluations, etc.). The Poblano function
% |poblano_out| is used by the optimization methods to set the output
% parameters.
%%
%
% <html><hr></html>
%
%% Output Parameters
%
% Each of the optimization methods in Poblano outputs a single structure
% containing fields described below.
%
%  X                Final iterate
%
%  F                Function value at X
%
%  G                Gradient at X
%
%  Params           Input parameters used for the minimization method (as 
%                   parsed Matlab inputParser object)
%
%  FuncEvals        Number of function evaluations performed 
%
%  Iters            Number of iterations performed (see individual minimization
%                   routines for details on what each iteration consists of
%
%  ExitFlag         Termination flag, with one of the following values
%                   0 : scaled gradient norm < StopTol input parameter)
%                   1 : maximum number of iterations exceeded
%                   2 : maximum number of function values exceeded
%                   3 : relative change in function value < RelFuncTol input parameter
%                   4 : NaNs found in F, G, or ||G||
%
%  ExitDescription  Text description of the termination flag
%%
%
% <html><hr></html>
%% Optional Trace Output Parameters
% Additional output parameters returned by the Poblano optimization methods
% are presented below. The histories (i.e., traces) of different variables
% and parameters at each iteration are returned as output parameters if the
% corresponding input parameters are set to |true| (see the
% <A2_poblano_params_docs.html Optimization Input Parameters> documentation 
% for more details on the input parameters).
%
%  TraceX           History of X (iterates)
%
%  TraceFunc        History of the function values of the iterates
%
%  TraceRelFunc     History of the relative difference between the function 
%                   values at the current and previous iterates
%
%  TraceGrad        History of the gradients of the iterates
%
%  TraceGradNorm    History of the norm of the gradients of the iterates
%
%  TraceFuncEvals   History of the number of function evaluations performed 
%                   at each iteration
%%
%
% <html><hr></html>
%% Example Output
% 
%%
% The following example shows the output produced when the default
% input parameters are used.
out = ncg(@(x) example1(x,3), pi/4)
%%
% The following example presents an example where a method terminates
% before convergence (due to a limit on the number of iterations allowed).
out = ncg(@(x) example1(x,3), pi/4,'MaxIters',1)
%%
% The following shows the ability to save traces of the different
% information for each iteration.
out = ncg(@(x) example1(x,3), [1 2 3]','TraceX',true,'TraceFunc', true, ...
    'TraceRelFunc',true,'TraceGrad',true,'TraceGradNorm',true,'TraceFuncEvals',true)
%%
% We can examine the final solution and its gradient (which list only their
% sizes when viewing the output structure):
X = out.X
G = out.G
%%
% We can also see the values of |X| (current iterate) and its
% gradient |G| for each iteration (including iteration 0, which just
% computes the function and gradient values of the initial point):
out.TraceX
out.TraceGrad

##### SOURCE END #####
--></body></html>